{% extends "partials/conteneur.html" %}

{% block body %}
 
<div id="maCarte" style="height: 700px;"></div>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

<script>
    var mymap = L.map('maCarte').setView([46.603354, 1.8883335], 6);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(mymap);

  // Creation de l'objet geojson
  let geojson_data = {{ donnees | safe }};


  // Ajout des données de l'objet GEOJSON à la carte
L.geoJSON(geojson_data, {
    onEachFeature: function (feature, layer) {
        layer.bindPopup(feature.properties.popup);
    }
}).addTo(mymap);


</script>

{% endblock %}